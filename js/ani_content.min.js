function anicontent(){let logEnabled=!0,сlassList="",сlassListCommon="";function removeElements(){let arrClass=document.querySelectorAll(сlassList),listErr="";for(let i=0;i<arrClass.length;i++)try{arrClass[i]&&(arrClass[i].parentNode.removeChild(arrClass[i]),listErr+=arrClass[i].className+",")}catch(e){Log("Ошибка","error",e)}let arrC=[];arrC.Clear=listErr?listErr.slice(0,-1).split(","):"не обнаружено",Log("Очистка выполнена.","success",arrC)}function removeElementsCommon(){let arrClass=document.querySelectorAll(сlassListCommon),listErr="";for(let i=0;i<arrClass.length;i++)try{arrClass[i]&&(arrClass[i].parentNode.removeChild(arrClass[i]),listErr+=arrClass[i].className+",")}catch(e){Log("Ошибка общ. очистка","error",e)}let arrC=[];arrC.Clear=listErr?listErr.slice(0,-1).split(","):"не обнаружено",Log("Общ. очистка выполнена.","success",arrC)}window.onload=function(){Log("Загружен контент скрипт");var body=document.body||document.getElementsByTagName("body")[0];let div=document.createElement("div");div.id="ClearClassId";var img=document.createElement("img");function onAClick(){сlassList&&removeElements(),сlassListCommon&&removeElementsCommon()}img.setAttribute("src",chrome.extension.getURL("/icon/clear_20.png")),img.setAttribute("height","20"),img.setAttribute("width","20"),div.appendChild(img),div.addEventListener("click",onAClick),body.appendChild(div)};var port=chrome.runtime.connect({name:"Content Script"});function Log(message,color,obj){if(0!=logEnabled){switch(color=color||"black"){case"success":case"ok":color="Green";break;case"info":color="DodgerBlue";break;case"error":color="Red";break;case"warning":color="Orange";break;default:color=color}if(obj){var objmess=JSON.stringify(obj);console.log("%cClearClassId : %c"+message,"color: blue;font-weight: bold","color:"+color,obj)}else console.log("%cClearClassId : %c"+message,"color: blue;font-weight: bold","color:"+color)}}port.postMessage({msg:"newTab"}),port.onMessage.addListener(function(msg){msg.setClassList&&(сlassList=msg.setClassList),msg.setClassListCommon&&(сlassListCommon=msg.setClassListCommon),"removeElement"==msg.func&&(Log("Принял на функцию сигнал","info"),removeElements()),"removeElementCommon"==msg.func&&(Log("Принял на функцию сигнал","info"),removeElementsCommon())})}anicontent();